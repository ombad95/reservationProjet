(function(){"use strict";var e={7008:function(e,t,s){var a=s(5130),l=s(6768);function r(e,t,s,a,r,o){const n=(0,l.g2)("router-view"),i=(0,l.g2)("MainLayout");return(0,l.uX)(),(0,l.Wv)(i,null,{default:(0,l.k6)((()=>[(0,l.bF)(n)])),_:1})}var o=s(4232);const n={class:"bg-gray-100"},i={class:"pt-20 pb-12 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},c={id:"notification"},d={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4"},u={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"};function g(e,t,s,a,r,g){const h=(0,l.g2)("AppHeader"),p=(0,l.g2)("AppFooter");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.bF)(h),(0,l.Lk)("main",i,[(0,l.Lk)("div",c,[r.successMessage?((0,l.uX)(),(0,l.CE)("div",d,[(0,l.Lk)("p",null,(0,o.v_)(r.successMessage),1)])):(0,l.Q3)("",!0),r.errorMessage?((0,l.uX)(),(0,l.CE)("div",u,[(0,l.Lk)("p",null,(0,o.v_)(r.errorMessage),1)])):(0,l.Q3)("",!0)]),(0,l.RG)(e.$slots,"default",{},void 0,!0)]),(0,l.bF)(p)])}const h={class:"bg-gray-800 fixed top-0 w-full z-50 shadow"},p={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},m={class:"flex items-center justify-between h-16"},x={class:"flex items-center"},b={class:"ml-8 space-x-4 flex items-center"},v={key:0,href:"/cart/view",class:"text-gray-300 hover:text-white"},y={key:1,href:"/my-reservations",class:"text-gray-300 hover:text-white"},f={key:2,href:"/admin/shows",class:"text-gray-300 hover:text-white"},k={class:"flex items-center space-x-4"},w={key:0},L={key:1,class:"flex items-center space-x-3"},C={class:"text-gray-300"};function E(e,t,s,a,r,n){const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("header",h,[(0,l.Lk)("div",p,[(0,l.Lk)("div",m,[(0,l.Lk)("div",x,[(0,l.bF)(i,{to:"/",class:"text-white font-bold text-xl"},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)("R√©servation")]))),_:1}),(0,l.Lk)("nav",b,[(0,l.bF)(i,{to:"/shows",class:"text-gray-300 hover:text-white"},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)("Spectacles")]))),_:1}),(0,l.bF)(i,{to:"/infos",class:"text-gray-300 hover:text-white"},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)("Infos pratiques")]))),_:1}),r.isAuthenticated?((0,l.uX)(),(0,l.CE)("a",v,"üõí Mon panier")):(0,l.Q3)("",!0),r.isAuthenticated?((0,l.uX)(),(0,l.CE)("a",y,"üìÑ Mes r√©servations")):(0,l.Q3)("",!0),r.roles.includes("ROLE_ADMIN")?((0,l.uX)(),(0,l.CE)("a",f," Gestion des spectacles ")):(0,l.Q3)("",!0),r.roles.includes("ROLE_ADMIN")?((0,l.uX)(),(0,l.Wv)(i,{key:3,to:"/tags",class:"text-gray-300 hover:text-white"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)(" Tags ")]))),_:1})):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",k,[r.isAuthenticated?((0,l.uX)(),(0,l.CE)("div",L,[(0,l.Lk)("span",C,"Bonjour, "+(0,o.v_)(r.username),1),t[5]||(t[5]=(0,l.Lk)("form",{method:"POST",action:"/logout"},[(0,l.Lk)("button",{type:"submit",class:"text-blue-400 hover:text-white"},"Se d√©connecter")],-1))])):((0,l.uX)(),(0,l.CE)("div",w,t[4]||(t[4]=[(0,l.Lk)("a",{href:"/login",class:"text-gray-300 hover:text-white"},"Se connecter",-1),(0,l.Lk)("a",{href:"/registration",class:"text-gray-300 hover:text-white ml-2"},"S'inscrire",-1)])))])])])])}var X=s(4373);const _=X.A.create({baseURL:"/api",withCredentials:!0});function T(e){const t=`; ${document.cookie}`,s=t.split(`; ${e}=`);if(2===s.length)return s.pop().split(";").shift()}_.interceptors.request.use((e=>{const t=T("XSRF-TOKEN");return t&&(e.headers["X-XSRF-TOKEN"]=t),e}));var A=_,S={data(){return{isAuthenticated:!1,username:"",roles:[]}},async mounted(){try{const e=await A.get("/auth/check");this.username=e.data.username,this.roles=Array.isArray(e.data.roles)?e.data.roles:[],this.isAuthenticated=!0}catch{this.isAuthenticated=!1,this.roles=[]}}},F=s(1241);const P=(0,F.A)(S,[["render",E],["__scopeId","data-v-7d9a86be"]]);var I=P;const M={class:"bg-gray-800 text-gray-300 py-4"};function $(e,t,s,a,r,o){return(0,l.uX)(),(0,l.CE)("footer",M,t[0]||(t[0]=[(0,l.Lk)("div",{class:"max-w-7xl mx-auto px-4 text-center"},[(0,l.eW)(" ¬© 2025 ‚Äì EPFC / ICC ‚Äì Projet R√©servations "),(0,l.Lk)("p",null,[(0,l.Lk)("a",{href:"/rss.xml",target:"_blank",class:"text-blue-500 hover:underline"}," üì° Flux RSS (spectacles) ")])],-1)]))}var j={name:"AppFooter"};const R=(0,F.A)(j,[["render",$],["__scopeId","data-v-79d987a4"]]);var q=R,D={components:{AppHeader:I,AppFooter:q},data(){return{successMessage:null,errorMessage:null}}};const O=(0,F.A)(D,[["render",g],["__scopeId","data-v-45f7b8bb"]]);var Q=O,W={name:"App",components:{MainLayout:Q}};const N=(0,F.A)(W,[["render",r]]);var V=N,K=s(1387);const U={class:"space-y-16"},z={class:"relative h-96 bg-cover bg-center rounded-lg",style:{"background-image":"url('/images/spectacle-hero.jpg')"}},B={class:"relative z-10 flex flex-col items-center justify-center h-full text-center px-4"},H={class:"bg-blue-500 rounded-lg py-12 text-white text-center px-4"};function J(e,t,s,r,o,n){const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",U,[(0,l.Lk)("section",z,[t[5]||(t[5]=(0,l.Lk)("div",{class:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/30 rounded-lg"},null,-1)),(0,l.Lk)("div",B,[t[3]||(t[3]=(0,l.Lk)("h1",{class:"text-5xl font-extrabold text-white mb-4"},"Vivez la magie du spectacle",-1)),t[4]||(t[4]=(0,l.Lk)("p",{class:"text-lg text-gray-200 mb-6"},"R√©servez en ligne vos places pour les √©v√©nements incontournables",-1)),(0,l.bF)(i,{to:"/shows",class:"inline-block bg-blue-500 hover:bg-blue-600 text-white font-medium px-8 py-3 rounded-full transition"},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)(" D√©couvrir les spectacles ")]))),_:1})])]),t[9]||(t[9]=(0,l.Fv)('<section class="bg-gray-50 rounded-lg py-12" data-v-327eacad><h2 class="text-3xl font-bold text-gray-800 mb-8 text-center" data-v-327eacad>Pourquoi r√©server chez nous ?</h2><div class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 px-4" data-v-327eacad><div class="text-center px-4" data-v-327eacad><div class="text-blue-500 text-5xl mb-4" data-v-327eacad>üîí</div><h3 class="text-xl font-semibold mb-2" data-v-327eacad>Paiement s√©curis√©</h3><p class="text-gray-600" data-v-327eacad>Vos transactions sont prot√©g√©es par les meilleurs standards bancaires.</p></div><div class="text-center px-4" data-v-327eacad><div class="text-blue-500 text-5xl mb-4" data-v-327eacad>‚ö°</div><h3 class="text-xl font-semibold mb-2" data-v-327eacad>R√©servation express</h3><p class="text-gray-600" data-v-327eacad>Trois clics suffisent pour confirmer vos places, o√π que vous soyez.</p></div><div class="text-center px-4" data-v-327eacad><div class="text-blue-500 text-5xl mb-4" data-v-327eacad>‚úâÔ∏è</div><h3 class="text-xl font-semibold mb-2" data-v-327eacad>Support 7j/7</h3><p class="text-gray-600" data-v-327eacad>Une question ? Notre √©quipe vous r√©pond par chat et email.</p></div></div></section>',1)),(0,l.Lk)("section",H,[t[7]||(t[7]=(0,l.Lk)("h2",{class:"text-3xl font-bold mb-4"},"Restez inform√©¬∑e",-1)),t[8]||(t[8]=(0,l.Lk)("p",{class:"mb-6"},"Inscrivez-vous √† notre newsletter pour recevoir les avant-premi√®res et offres exclusives.",-1)),(0,l.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>n.subscribeToNewsletter&&n.subscribeToNewsletter(...e)),["prevent"])),class:"max-w-md mx-auto flex flex-col sm:flex-row gap-4"},[(0,l.bo)((0,l.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),required:"",placeholder:"Votre adresse email",class:"flex-1 px-4 py-2 rounded-md text-gray-900 focus:outline-none"},null,512),[[a.Jo,o.email]]),t[6]||(t[6]=(0,l.Lk)("button",{type:"submit",class:"bg-white text-blue-600 font-semibold px-6 py-2 rounded-md hover:bg-gray-100 transition"}," S‚Äôabonner ",-1))],32)])])}var G={name:"AppHome",data(){return{email:""}},methods:{async subscribeToNewsletter(){try{await fetch("/newsletter/subscribe",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({email:this.email})}),alert("Inscription r√©ussie !"),this.email=""}catch(e){console.error(e),alert("Erreur lors de l'inscription.")}}}};const Y=(0,F.A)(G,[["render",J],["__scopeId","data-v-327eacad"]]);var Z=Y;const ee={key:0,class:"text-red-500"};function te(e,t,s,r,n,i){return(0,l.uX)(),(0,l.CE)("div",null,[t[6]||(t[6]=(0,l.Lk)("h1",null,"Bienvenue sur l'application !",-1)),(0,l.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>i.login&&i.login(...e)),["prevent"]))},[(0,l.Lk)("div",null,[t[3]||(t[3]=(0,l.Lk)("label",{for:"login"},"Login :",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.loginInput=e),id:"login",type:"text",required:""},null,512),[[a.Jo,n.loginInput]])]),(0,l.Lk)("div",null,[t[4]||(t[4]=(0,l.Lk)("label",{for:"password"},"Mot de passe :",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),id:"password",type:"password",required:""},null,512),[[a.Jo,n.password]])]),t[5]||(t[5]=(0,l.Lk)("button",{type:"submit"},"Se connecter",-1)),n.errorMessage?((0,l.uX)(),(0,l.CE)("p",ee,(0,o.v_)(n.errorMessage),1)):(0,l.Q3)("",!0)],32)])}s(4114);var se={data(){return{loginInput:"",password:"",errorMessage:""}},methods:{async login(){try{await A.post("/login",{login:this.loginInput,password:this.password}).then((()=>A.get("/api/auth/check"))).then((e=>{this.username=e.data.username,this.isAuthenticated=!0,this.showLoginForm=!1})).catch((e=>{403===e.response?.status?this.errorMessage="Acc√®s refus√© (403) ‚Äî CSRF ou mauvais identifiants.":this.errorMessage="√âchec de la connexion."})),this.$router.push("/shows")}catch(e){this.errorMessage="√âchec de la connexion !"}}}};const ae=(0,F.A)(se,[["render",te],["__scopeId","data-v-30e6f72b"]]);var le=ae;const re={class:"max-w-4xl mx-auto px-6 py-8"},oe={key:0,class:"text-gray-500 italic text-center bg-white border rounded shadow py-6"},ne={key:1,class:"bg-white shadow border rounded divide-y divide-gray-200"},ie={class:"text-gray-700 font-medium"},ce={class:"mt-6 flex justify-center"},de=["disabled"],ue={class:"mx-4 text-lg"},ge=["disabled"];function he(e,t,s,a,r,n){const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",re,[t[3]||(t[3]=(0,l.Lk)("h1",{class:"text-2xl font-semibold text-gray-800 mb-6"},"Liste des localit√©s",-1)),0===r.localities.length?((0,l.uX)(),(0,l.CE)("div",oe," Aucune localit√© enregistr√©e. ")):((0,l.uX)(),(0,l.CE)("ul",ne,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.paginatedLocalities,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id,class:"px-4 py-3 flex justify-between items-center hover:bg-gray-50"},[(0,l.Lk)("span",ie,(0,o.v_)(e.postalCode)+" "+(0,o.v_)(e.locality),1),(0,l.bF)(i,{to:`/localities/${e.id}`,class:"text-blue-600 text-sm hover:underline"},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)("Voir")]))),_:2},1032,["to"])])))),128))])),(0,l.Lk)("div",ce,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=e=>n.changePage(r.currentPage-1)),disabled:0===r.currentPage,class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400"}," Pr√©c√©dent ",8,de),(0,l.Lk)("span",ue,(0,o.v_)(r.currentPage+1)+" / "+(0,o.v_)(n.totalPages),1),(0,l.Lk)("button",{onClick:t[1]||(t[1]=e=>n.changePage(r.currentPage+1)),disabled:r.currentPage===n.totalPages-1,class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400"}," Suivant ",8,ge)])])}var pe={name:"LocalitiesList",data(){return{localities:[],currentPage:0,itemsPerPage:10}},computed:{paginatedLocalities(){const e=this.currentPage*this.itemsPerPage,t=e+this.itemsPerPage;return this.localities.slice(e,t)},totalPages(){return Math.ceil(this.localities.length/this.itemsPerPage)}},async mounted(){try{const e=await this.$http.get("/localities");console.log("‚úÖ Donn√©es re√ßues :",e.data),this.localities=e.data}catch(e){console.error("Erreur lors du chargement des localit√©s :",e)}},methods:{changePage(e){e>=0&&e<this.totalPages&&(this.currentPage=e)}}};const me=(0,F.A)(pe,[["render",he],["__scopeId","data-v-230d4285"]]);var xe=me;const be={class:"max-w-3xl mx-auto px-6 py-8"},ve={key:0},ye={class:"text-2xl font-semibold text-gray-800 mb-4"},fe={key:0,class:"list-disc list-inside text-gray-600 space-y-1"},ke={key:1,class:"text-gray-500 italic"},we={class:"mt-6"},Le={key:1,class:"text-gray-500 italic text-center"};function Ce(e,t,s,a,r,n){const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",be,[r.locality?((0,l.uX)(),(0,l.CE)("div",ve,[(0,l.Lk)("h1",ye,(0,o.v_)(r.locality.postalCode)+" "+(0,o.v_)(r.locality.locality),1),(0,l.Lk)("div",null,[t[0]||(t[0]=(0,l.Lk)("h2",{class:"text-lg font-medium text-gray-700 mb-2"},"Lieux de spectacle :",-1)),r.locality.places&&r.locality.places.length>0?((0,l.uX)(),(0,l.CE)("ul",fe,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.locality.places,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e},(0,o.v_)(e),1)))),128))])):((0,l.uX)(),(0,l.CE)("p",ke,"Aucun lieu de spectacle associ√© √† cette localit√©."))]),(0,l.Lk)("div",we,[(0,l.bF)(i,{to:"/localities",class:"text-sm text-blue-600 hover:underline"},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)(" ‚Üê Retour √† la liste des localit√©s ")]))),_:1})])])):((0,l.uX)(),(0,l.CE)("div",Le," Chargement en cours... "))])}var Ee={name:"LocalityDetails",data(){return{locality:null}},async mounted(){try{const e=this.$route.params.id,t=await this.$http.get(`/localities/${e}`);this.locality=t.data}catch(e){console.error("Erreur lors du chargement de la localit√© :",e)}}};const Xe=(0,F.A)(Ee,[["render",Ce]]);var _e=Xe;const Te={class:"max-w-7xl mx-auto px-6 py-10"},Ae=["value"],Se={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},Fe={class:"h-48 bg-gray-100 flex items-center justify-center"},Pe=["src","alt"],Ie={key:1,class:"text-gray-400 italic text-sm"},Me={class:"p-4 flex-1 flex flex-col justify-between"},$e={class:"text-xl font-bold text-gray-800 mb-1"},je={class:"flex flex-wrap items-center gap-2 text-sm mb-3"},Re={key:0,class:"inline-block px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium"},qe={key:1,class:"inline-block px-2 py-1 bg-red-100 text-red-600 rounded-full text-xs font-medium"},De={key:2,class:"inline-block px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium"},Oe={key:3,class:"text-gray-400 italic text-xs"},Qe={key:4,class:"inline-block px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-medium"},We={key:5,class:"inline-block px-2 py-1 bg-gray-100 text-gray-500 rounded-full text-xs font-medium italic"},Ne={class:"mt-3"},Ve={key:1,class:"text-center text-gray-500 italic bg-white py-10 rounded shadow border mt-8 text-lg"};function Ke(e,t,s,r,n,i){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Te,[t[6]||(t[6]=(0,l.Lk)("div",{class:"mb-10"},[(0,l.Lk)("h1",{class:"text-4xl font-extrabold text-gray-900"},"Liste des spectacles")],-1)),(0,l.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>i.fetchShowsByTag&&i.fetchShowsByTag(...e)),["prevent"])),class:"mb-6 flex gap-3 items-center"},[t[3]||(t[3]=(0,l.Lk)("label",{for:"tag",class:"text-gray-700"},"Rechercher par mot-cl√© :",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedTag=e),id:"tag",name:"tag",class:"border rounded px-3 py-1"},[t[2]||(t[2]=(0,l.Lk)("option",{value:""},"-- Tous les spectacles --",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.availableTags,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,o.v_)(e),9,Ae)))),128))],512),[[a.u1,n.selectedTag]]),t[4]||(t[4]=(0,l.Lk)("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"}," Rechercher ",-1))],32),n.shows.length>0?((0,l.uX)(),(0,l.CE)("div",Se,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.shows,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"bg-white rounded-lg shadow-md hover:shadow-lg transition duration-300 overflow-hidden flex flex-col"},[(0,l.Lk)("div",Fe,[e.posterUrl?((0,l.uX)(),(0,l.CE)("img",{key:0,src:`/images/${e.posterUrl}`,alt:e.title,class:"object-contain w-full h-full p-2"},null,8,Pe)):((0,l.uX)(),(0,l.CE)("span",Ie,"Pas d'image"))]),(0,l.Lk)("div",Me,[(0,l.Lk)("div",null,[(0,l.Lk)("h2",$e,(0,o.v_)(e.title),1),(0,l.Lk)("div",je,[e.bookable?((0,l.uX)(),(0,l.CE)("span",Re," R√©servable ")):((0,l.uX)(),(0,l.CE)("span",qe," Non r√©servable ")),null!=e.minPrice?((0,l.uX)(),(0,l.CE)("span",De,(0,o.v_)(e.minPrice)+" ‚Ç¨ ",1)):((0,l.uX)(),(0,l.CE)("span",Oe,"Prix non d√©fini")),e.representationsCount>0?((0,l.uX)(),(0,l.CE)("span",Qe,(0,o.v_)(e.representationsCount)+" repr√©sentation(s) ",1)):((0,l.uX)(),(0,l.CE)("span",We," Aucune repr√©sentation "))])]),(0,l.Lk)("div",Ne,[(0,l.bF)(c,{to:`/shows/${e.id}`,class:"inline-block text-sm text-blue-600 font-semibold hover:underline"},{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)(" Voir les d√©tails ‚Üí ")]))),_:2},1032,["to"])])])])))),128))])):((0,l.uX)(),(0,l.CE)("div",Ve," Aucun spectacle n‚Äôa encore √©t√© enregistr√©. "))])}s(8111),s(1701);var Ue={name:"ShowList",data(){return{shows:[],selectedTag:"",availableTags:[]}},mounted(){this.fetchShows(),this.fetchTags();const e=this.$route.query.excludeTag;e?this.fetchShowsExcludingTag(e):this.fetchShows()},methods:{async fetchShows(){try{const e=await A.get("/shows");this.shows=e.data}catch(e){console.error("Erreur lors du chargement des spectacles :",e)}},async fetchTags(){try{const e=await A.get("/tags");this.availableTags=e.data.map((e=>e.tag))}catch(e){console.warn("Impossible de charger les tags disponibles.")}},async fetchShowsByTag(){if(!this.selectedTag)return this.fetchShows();try{const e=await A.get(`/shows?tag=${this.selectedTag}`);this.shows=e.data}catch(e){console.error("Erreur lors du filtrage :",e),this.shows=[]}},async fetchShowsExcludingTag(e){try{const t=await A.get(`/shows/exclude?tag=${e}`);this.shows=t.data}catch(t){console.error("Erreur lors du filtrage exclu :",t),this.shows=[]}}}};const ze=(0,F.A)(Ue,[["render",Ke]]);var Be=ze;const He={class:"max-w-6xl mx-auto px-6 py-12"},Je={key:0},Ge={class:"text-4xl font-extrabold text-gray-900 mb-8"},Ye={class:"flex flex-col md:flex-row gap-10 mb-12 bg-white rounded-xl shadow p-6"},Ze={class:"w-full md:w-1/3 flex justify-center"},et={key:0,class:"aspect-[2/3] w-full bg-white rounded-lg shadow overflow-hidden"},tt=["src","alt"],st={key:1,class:"aspect-[2/3] w-full flex items-center justify-center bg-gray-100 text-gray-400 rounded-lg shadow"},at={class:"flex-1 space-y-5"},lt={key:0,class:"text-gray-700 text-lg"},rt={key:1},ot={class:"text-gray-700 leading-relaxed"},nt={class:"flex flex-wrap items-center gap-3 mt-4"},it={key:0,class:"inline-block px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium"},ct={key:1,class:"inline-block px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm font-medium"},dt={key:2,class:"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium"},ut={key:3,class:"italic text-gray-400 text-sm"},gt={key:4,class:"ml-auto"},ht=["href"],pt={class:"mb-12"},mt={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"},xt={class:"font-medium mb-2"},bt={key:0,class:"mt-auto font-semibold text-gray-800"},vt={key:1,class:"mt-auto italic"},yt={key:2,class:"mt-auto italic"},ft={key:0,class:"mb-12"},kt={class:"grid grid-cols-1 md:grid-cols-2 gap-6 text-gray-700 text-sm"},wt={key:0},Lt={class:"list-disc list-inside"},Ct={key:1},Et={class:"list-disc list-inside"},Xt={key:2},_t={class:"list-disc list-inside"},Tt={class:"mb-12"},At={class:"flex flex-wrap gap-2 mb-4"},St={key:0,class:"italic text-gray-500 mb-4"},Ft={key:1,class:"mt-6"},Pt=["value"],It={class:"mb-4"},Mt=["href"],$t={class:"mt-8"},jt={key:1,class:"text-center text-gray-500 italic py-12"};function Rt(e,t,s,r,n,i){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",He,[n.show?((0,l.uX)(),(0,l.CE)("div",Je,[(0,l.Lk)("h1",Ge,(0,o.v_)(n.show.title),1),(0,l.Lk)("div",Ye,[(0,l.Lk)("div",Ze,[n.show.posterUrl?((0,l.uX)(),(0,l.CE)("div",et,[(0,l.Lk)("img",{src:`/images/${n.show.posterUrl}`,alt:n.show.title,class:"object-contain w-full h-full"},null,8,tt)])):((0,l.uX)(),(0,l.CE)("div",st," Pas d‚Äôimage "))]),(0,l.Lk)("div",at,[n.show.location?((0,l.uX)(),(0,l.CE)("p",lt,[t[2]||(t[2]=(0,l.Lk)("span",{class:"font-semibold text-gray-900"},"üìç Lieu de cr√©ation :",-1)),(0,l.eW)(" "+(0,o.v_)(n.show.location),1)])):(0,l.Q3)("",!0),n.show.description?((0,l.uX)(),(0,l.CE)("div",rt,[t[3]||(t[3]=(0,l.Lk)("h2",{class:"text-xl font-bold text-gray-800 mb-1"},"üìù Description",-1)),(0,l.Lk)("p",ot,(0,o.v_)(n.show.description),1)])):(0,l.Q3)("",!0),(0,l.Lk)("div",nt,[n.show.bookable?((0,l.uX)(),(0,l.CE)("span",it,"R√©servable")):((0,l.uX)(),(0,l.CE)("span",ct,"Non r√©servable")),null!=n.show.minPrice?((0,l.uX)(),(0,l.CE)("span",dt," üí∂ "+(0,o.v_)(n.show.minPrice)+" ‚Ç¨ ",1)):((0,l.uX)(),(0,l.CE)("span",ut,"Prix non d√©fini")),n.show.bookable?((0,l.uX)(),(0,l.CE)("div",gt,[(0,l.Lk)("a",{href:`http://localhost:8080/shows/${n.show.id}/reserve`,class:"bg-blue-600 text-white px-5 py-2 rounded-lg shadow hover:bg-blue-700 transition"}," R√©server ",8,ht)])):(0,l.Q3)("",!0)])])]),(0,l.Lk)("section",pt,[t[4]||(t[4]=(0,l.Lk)("h2",{class:"text-2xl font-bold text-gray-800 mb-4"},"Repr√©sentations",-1)),(0,l.Lk)("div",mt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.show.representations,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,o.C4)(["p-4 rounded-lg shadow flex flex-col",e.availableSeats>0?"bg-green-50":"bg-gray-200 text-gray-500"])},[(0,l.Lk)("p",xt,(0,o.v_)(i.formatDate(e.scheduled_at)),1),e.availableSeats>0?((0,l.uX)(),(0,l.CE)("p",bt,(0,o.v_)(e.availableSeats)+" place(s) dispo",1)):0===e.availableSeats?((0,l.uX)(),(0,l.CE)("p",vt,"Complet")):((0,l.uX)(),(0,l.CE)("p",yt,"Places inconnues"))],2)))),128))])]),n.show.collaborateurs?((0,l.uX)(),(0,l.CE)("section",ft,[t[8]||(t[8]=(0,l.Lk)("h2",{class:"text-2xl font-bold text-gray-800 mb-4"},"Collaborateurs",-1)),(0,l.Lk)("div",kt,[n.show.collaborateurs.auteur?((0,l.uX)(),(0,l.CE)("div",wt,[t[5]||(t[5]=(0,l.Lk)("h3",{class:"font-semibold mb-1"},"Auteur(s)",-1)),(0,l.Lk)("ul",Lt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.show.collaborateurs.auteur,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id},(0,o.v_)(e.firstname)+" "+(0,o.v_)(e.lastname),1)))),128))])])):(0,l.Q3)("",!0),n.show.collaborateurs["sc√©nographe"]?((0,l.uX)(),(0,l.CE)("div",Ct,[t[6]||(t[6]=(0,l.Lk)("h3",{class:"font-semibold mb-1"},"Metteur(s) en sc√®ne",-1)),(0,l.Lk)("ul",Et,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.show.collaborateurs["sc√©nographe"],(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id},(0,o.v_)(e.firstname)+" "+(0,o.v_)(e.lastname),1)))),128))])])):(0,l.Q3)("",!0),n.show.collaborateurs.com√©dien?((0,l.uX)(),(0,l.CE)("div",Xt,[t[7]||(t[7]=(0,l.Lk)("h3",{class:"font-semibold mb-1"},"Distribution",-1)),(0,l.Lk)("ul",_t,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.show.collaborateurs.com√©dien,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id},(0,o.v_)(e.firstname)+" "+(0,o.v_)(e.lastname),1)))),128))])])):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0),(0,l.Lk)("section",Tt,[t[11]||(t[11]=(0,l.Lk)("h2",{class:"text-2xl font-bold text-gray-800 mb-4"},"Mots-cl√©s associ√©s",-1)),(0,l.Lk)("div",At,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.show.tags,(e=>((0,l.uX)(),(0,l.CE)("span",{key:e,class:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium hover:bg-yellow-200"},(0,o.v_)(e),1)))),128))]),0===n.show.tags.length?((0,l.uX)(),(0,l.CE)("p",St,"Aucun mot-cl√©.")):(0,l.Q3)("",!0),n.roles.includes("ROLE_ADMIN")?((0,l.uX)(),(0,l.CE)("div",Ft,[(0,l.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>i.addTagToShow&&i.addTagToShow(...e)),["prevent"])),class:"flex items-center space-x-2"},[(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedTagId=e),required:"",class:"border rounded px-2 py-1 text-sm"},[t[9]||(t[9]=(0,l.Lk)("option",{disabled:"",value:""},"Ajouter un mot-cl√©",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.availableTags,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,o.v_)(e.tag),9,Pt)))),128))],512),[[a.u1,n.selectedTagId]]),t[10]||(t[10]=(0,l.Lk)("button",{type:"submit",class:"bg-green-600 text-white px-3 py-1 rounded-lg hover:bg-green-700 transition"}," Ajouter ",-1))],32)])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",It,[(0,l.Lk)("a",{href:`/dev/shows/${n.show.id}`,target:"_blank",class:"inline-block bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-900 transition"}," Commentaires ",8,Mt)]),(0,l.Lk)("div",$t,[(0,l.bF)(c,{to:"/shows",class:"text-blue-600 hover:underline"},{default:(0,l.k6)((()=>t[12]||(t[12]=[(0,l.eW)("‚Üê Retour √† la liste")]))),_:1})])])):((0,l.uX)(),(0,l.CE)("div",jt," Chargement du spectacle... "))])}var qt={name:"ShowDetail",data(){return{show:null,availableTags:[],selectedTagId:"",isAuthenticated:!1,roles:[]}},async mounted(){const e=this.$route.params.id;await this.fetchShow(e),await this.fetchAvailableTags(),await this.checkAuth()},methods:{async fetchShow(e){try{const t=await A.get(`/shows/${e}`);this.show=t.data}catch(t){console.error("Erreur lors du chargement du spectacle :",t)}},async fetchAvailableTags(){try{const e=await A.get("/tags");this.availableTags=e.data}catch(e){console.error("Erreur lors du chargement des tags disponibles :",e)}},async checkAuth(){try{const e=await A.get("/auth/check");this.isAuthenticated=!0,this.roles=e.data.roles||[]}catch{this.isAuthenticated=!1,this.roles=[]}},async addTagToShow(){try{const e=new FormData;e.append("tagId",this.selectedTagId),await A.post(`/shows/${this.show.id}/tags`,e),this.selectedTagId="",await this.fetchShow(this.show.id)}catch(e){console.error("Erreur lors de l'ajout du tag :",e)}},formatDate(e){if(!e)return"Date inconnue";const t=new Date(e);return isNaN(t)?"Date invalide":t.toLocaleString("fr-BE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}}};const Dt=(0,F.A)(qt,[["render",Rt]]);var Ot=Dt;const Qt={class:"max-w-4xl mx-auto py-10 px-4"},Wt={type:"submit",class:"bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700"},Nt={class:"w-full table-auto border-collapse"},Vt={class:"px-4 py-2"},Kt={class:"px-4 py-2"},Ut={class:"px-4 py-2 text-right space-x-2"},zt=["onClick"],Bt=["onClick"];function Ht(e,t,s,r,n,i){return(0,l.uX)(),(0,l.CE)("div",Qt,[t[4]||(t[4]=(0,l.Lk)("h1",{class:"text-3xl font-bold text-gray-800 mb-6"},"Gestion des Tags",-1)),(0,l.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>i.handleSubmit&&i.handleSubmit(...e)),["prevent"])),class:"mb-8 flex gap-3"},[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.tagForm.tag=e),type:"text",placeholder:"Nom du tag",required:"",class:"border px-3 py-1 rounded w-full"},null,512),[[a.Jo,n.tagForm.tag]]),(0,l.Lk)("button",Wt,(0,o.v_)(n.tagForm.id?"Modifier":"Ajouter"),1),n.tagForm.id?((0,l.uX)(),(0,l.CE)("button",{key:0,type:"button",onClick:t[1]||(t[1]=(...e)=>i.resetForm&&i.resetForm(...e)),class:"text-sm text-gray-500 underline"}," Annuler ")):(0,l.Q3)("",!0)],32),(0,l.Lk)("table",Nt,[t[3]||(t[3]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",{class:"bg-gray-100 text-left"},[(0,l.Lk)("th",{class:"px-4 py-2"},"ID"),(0,l.Lk)("th",{class:"px-4 py-2"},"Tag"),(0,l.Lk)("th",{class:"px-4 py-2 text-right"},"Actions")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.tags,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"border-t hover:bg-gray-50"},[(0,l.Lk)("td",Vt,(0,o.v_)(e.id),1),(0,l.Lk)("td",Kt,(0,o.v_)(e.tag),1),(0,l.Lk)("td",Ut,[(0,l.Lk)("button",{onClick:t=>i.editTag(e),class:"text-blue-600 hover:underline text-sm"}," Modifier ",8,zt),(0,l.Lk)("button",{onClick:t=>i.deleteTag(e.id),class:"text-red-600 hover:underline text-sm"}," Supprimer ",8,Bt)])])))),128))])])])}var Jt={name:"TagManager",data(){return{tags:[],tagForm:{id:null,tag:""}}},mounted(){this.fetchTags()},methods:{async fetchTags(){try{const e=await A.get("/tags");this.tags=e.data}catch(e){console.error("Erreur chargement tags:",e)}},async handleSubmit(){try{this.tagForm.id?await A.put(`/tags/${this.tagForm.id}`,this.tagForm):await A.post("/tags",this.tagForm),this.resetForm(),this.fetchTags()}catch(e){console.error("Erreur sauvegarde tag:",e)}},editTag(e){this.tagForm={...e}},async deleteTag(e){if(confirm("Confirmer la suppression ?"))try{await A.delete(`/tags/${e}`),this.fetchTags()}catch(t){console.error("Erreur suppression tag:",t)}},resetForm(){this.tagForm={id:null,tag:""}}}};const Gt=(0,F.A)(Jt,[["render",Ht],["__scopeId","data-v-f76a3348"]]);var Yt=Gt;const Zt={class:"space-y-10"},es={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},ts={class:"bg-white shadow rounded-lg p-6"},ss={class:"text-gray-700 leading-relaxed"},as={class:"md:col-span-2 bg-white shadow rounded-lg p-6"},ls={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700"};function rs(e,t,s,a,r,o){const n=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Zt,[t[10]||(t[10]=(0,l.Lk)("header",{class:"text-center"},[(0,l.Lk)("h1",{class:"text-4xl font-extrabold text-gray-800"},"Infos pratiques"),(0,l.Lk)("p",{class:"mt-2 text-gray-600"},"Tout ce qu‚Äôil faut savoir avant de r√©server")],-1)),(0,l.Lk)("div",es,[(0,l.Lk)("section",ts,[t[3]||(t[3]=(0,l.Lk)("h2",{class:"text-2xl font-semibold mb-4 text-blue-600"},"üïí Horaires & Lieu",-1)),(0,l.Lk)("p",ss,[t[1]||(t[1]=(0,l.eW)(" Les d√©tails (date, heure, lieu) sont indiqu√©s sur chaque page de spectacle.")),t[2]||(t[2]=(0,l.Lk)("br",null,null,-1)),(0,l.bF)(n,{to:"/shows",class:"text-blue-500 hover:underline"},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)("Voir tous les spectacles")]))),_:1})])]),t[9]||(t[9]=(0,l.Fv)('<section class="bg-white shadow rounded-lg p-6" data-v-0c6994e4><h2 class="text-2xl font-semibold mb-4 text-blue-600" data-v-0c6994e4>üéüÔ∏è Billetterie</h2><ul class="space-y-2 text-gray-700" data-v-0c6994e4><li class="flex items-start" data-v-0c6994e4><span class="mr-2 text-green-500" data-v-0c6994e4>‚úî</span>Achat en ligne s√©curis√©</li><li class="flex items-start" data-v-0c6994e4><span class="mr-2 text-green-500" data-v-0c6994e4>‚úî</span>Retrait √† la billetterie 1 h avant</li><li class="flex items-start" data-v-0c6994e4><span class="mr-2 text-green-500" data-v-0c6994e4>‚úî</span>Billets d√©mat√©rialis√©s (QR code par e-mail)</li></ul></section><section class="bg-white shadow rounded-lg p-6" data-v-0c6994e4><h2 class="text-2xl font-semibold mb-4 text-blue-600" data-v-0c6994e4>üí≥ Modes de paiement</h2><p class="text-gray-700 mb-3" data-v-0c6994e4>Paiement via Stripe :</p><ul class="space-y-2 text-gray-700" data-v-0c6994e4><li class="flex items-start" data-v-0c6994e4><span class="mr-2 text-green-500" data-v-0c6994e4>‚úî</span>Visa, MasterCard, Bancontact</li><li class="flex items-start" data-v-0c6994e4><span class="mr-2 text-green-500" data-v-0c6994e4>‚úî</span>PayPal</li><li class="flex items-start" data-v-0c6994e4><span class="mr-2 text-green-500" data-v-0c6994e4>‚úî</span>Virement bancaire<br data-v-0c6994e4><small class="text-gray-500" data-v-0c6994e4> Envoyez la preuve √† <a href="mailto:contact@spectacles.be" class="text-blue-500 hover:underline" data-v-0c6994e4>contact@spectacles.be</a></small></li></ul></section><section class="bg-white shadow rounded-lg p-6" data-v-0c6994e4><h2 class="text-2xl font-semibold mb-4 text-blue-600" data-v-0c6994e4>‚ùå Conditions d‚Äôannulation</h2><ul class="space-y-2 text-gray-700" data-v-0c6994e4><li data-v-0c6994e4><strong data-v-0c6994e4>Jusqu‚Äô√† 48 h avant :</strong> gratuit</li><li data-v-0c6994e4><strong data-v-0c6994e4>Entre 48 h et 24 h :</strong> 50 % du montant</li><li data-v-0c6994e4><strong data-v-0c6994e4>Moins de 24 h :</strong> aucune annulation</li></ul></section>',3)),(0,l.Lk)("section",as,[t[8]||(t[8]=(0,l.Lk)("h2",{class:"text-2xl font-semibold mb-4 text-blue-600"},"üìû Contact & FAQ",-1)),(0,l.Lk)("div",ls,[t[7]||(t[7]=(0,l.Lk)("div",null,[(0,l.Lk)("p",null,[(0,l.Lk)("strong",null,"T√©l√©phone :"),(0,l.eW)(" +32 2 123 45 67")]),(0,l.Lk)("p",null,[(0,l.Lk)("strong",null,"Email :"),(0,l.Lk)("a",{href:"mailto:contact@spectacles.be",class:"text-blue-500 hover:underline"}," contact@spectacles.be ")])],-1)),(0,l.Lk)("div",null,[(0,l.Lk)("p",null,[t[5]||(t[5]=(0,l.eW)("Pour toutes questions, consultez notre ")),(0,l.bF)(n,{to:"/faq",class:"text-blue-500 hover:underline"},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)("FAQ")]))),_:1}),t[6]||(t[6]=(0,l.eW)(". "))])])])])])])}var os={name:"InfosPratiques"};const ns=(0,F.A)(os,[["render",rs],["__scopeId","data-v-0c6994e4"]]);var is=ns;const cs=[{path:"/",name:"Home",component:Z},{path:"/login",name:"Login",component:le},{path:"/shows",name:"ShowList",component:Be},{path:"/shows/:id",name:"ShowDetails",component:Ot},{path:"/localities",name:"LocalitiesList",component:xe},{path:"/localities/:id",name:"LocalityDetails",component:_e,meta:{requiresAuth:!0}},{path:"/tags",name:"crud",component:Yt,meta:{requiresAuth:!0}},{path:"/infos",name:"InfosPratiques",component:is}],ds=(0,K.aE)({history:(0,K.LA)(),routes:cs});var us=ds;const gs=(0,a.Ef)(V);gs.config.globalProperties.$http=A,us.beforeEach((async(e,t,s)=>{if(e.meta.requiresAuth)try{const e=await A.get("/auth/check");200===e.status?s():window.location.href="/login"}catch{window.location.href="/login"}else s()})),gs.use(us).mount("#app")}},t={};function s(a){var l=t[a];if(void 0!==l)return l.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,a,l,r){if(!a){var o=1/0;for(d=0;d<e.length;d++){a=e[d][0],l=e[d][1],r=e[d][2];for(var n=!0,i=0;i<a.length;i++)(!1&r||o>=r)&&Object.keys(s.O).every((function(e){return s.O[e](a[i])}))?a.splice(i--,1):(n=!1,r<o&&(o=r));if(n){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,l,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,r,o=a[0],n=a[1],i=a[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(l in n)s.o(n,l)&&(s.m[l]=n[l]);if(i)var d=i(s)}for(t&&t(a);c<o.length;c++)r=o[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(7008)}));a=s.O(a)})();
//# sourceMappingURL=app.9d4c0543.js.map